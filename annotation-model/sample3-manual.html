<!doctype html>
<title>Sample test driver for JSON</title>
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<script src="scripts/ajv.min.js"></script>
<script src="scripts/JSONtest.js"></script>
<script>
setup({explicit_timeout: true, explicit_done: true });

// var theTestFile="framework/annotations/verify-context-present.json"; // {{theTestFile}}

// -- or --

var theTest = {
  "@context": "https://www.w3.org/ns/JSONtest-v1.jsonld",
  "name": "Abort if there is a failure",
  "description": "Basic structure test - abort if anything is missing",
  "ref": "https://www.w3.org/TR/annotation-model/#model",
  "assertions": [
    {
      "assertionFile" : "common/context.json",
      "onUnexpectedResult": "failAndAbort"
    },
    {
      "assertionFile" : "common/id.json",
      "onUnexpectedResult": "failAndAbort"
    },
    {
      "assertionFile" : "common/type.json",
      "onUnexpectedResult": "failAndAbort"
    }
  ]
} ;

var runningTest = new JSONtest( {
    "testInput": "annotation-input",
    "runTest": "annotation-run",
    "test": theTest
} ) ;

</script>
<p>Provide JSON output from your annotation client implementation that supports the following
assertion(s):</p>
<div class="assertion">{{ASSERTIONS}}</div>
<form name="annotation" id="annotation">
    <textarea name="annotation-input" id="annotation-input" style="width: 90%; height: 10em" >
    </textarea>
    <input type="button" id="annotation-run" name="Check JSON-LD" value="Check JSON-LD">
</form>
